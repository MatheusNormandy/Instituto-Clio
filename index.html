<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Instituto Clio — Memória, Tecnologia e Impacto Social</title>
<meta name="description" content="Instituição dedicada à preservação da memória histórico-cultural, ciência da informação, digitalização de acervos e pesquisa com impacto social."/>

<!-- SEO: Open Graph -->
<meta property="og:type" content="website"/>
<meta property="og:title" content="Instituto Clio — Memória, Tecnologia e Impacto Social"/>
<meta property="og:description" content="Ciência da informação, tecnologia e rigor científico aplicados à preservação do patrimônio cultural como ativo estratégico para a sociedade."/>
<meta property="og:image" content="/media/images/logo-clio.png"/>
<meta property="og:url" content="/"/>
<meta property="og:locale" content="pt_BR"/>
<meta property="og:site_name" content="Instituto Clio"/>

<!-- SEO: Twitter Card -->
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:title" content="Instituto Clio — Memória, Tecnologia e Impacto Social"/>
<meta name="twitter:description" content="Preservação da memória histórico-cultural, pesquisa científica e inovação tecnológica com impacto social."/>
<meta name="twitter:image" content="/media/images/logo-clio.png"/>

<!-- SEO: Canonical -->
<link rel="canonical" href="/"/>

<!-- Favicons -->
<link rel="icon" type="image/png" href="/media/images/logo-clio.png"/>
<link rel="apple-touch-icon" href="/media/images/logo-clio.png"/>

<!-- Theme Color -->
<meta name="theme-color" content="#3E89A3"/>

<!-- GSAP -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,300;1,9..40,400&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400;1,500&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet"/>

<style>
/* ========== DESIGN TOKENS ========== */
:root {
  --color-bg: #FFFFFF;
  --color-bg-warm: #EEF7F9;
  --color-primary: #3E89A3;
  --color-primary-alt: #519BB5;
  --color-text: #1A3D4F;
  --color-text-light: #2D607A;
  --color-bg-alt: #C3E4E9;
  --color-bg-alt2: #E6F4F7;
  --color-accent: #7AC1D7;
  --color-accent-alt: #C3E4E9;
  --ease-reveal: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-fade: cubic-bezier(0.33, 1, 0.68, 1);
  --ease-scroll: cubic-bezier(0.22, 1, 0.36, 1);
  --container-max: 80rem;
  --nav-pad: 1.5rem;
}

/* ========== RESET ========== */
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; -webkit-font-smoothing: antialiased; }
body {
  font-family: 'Inter', sans-serif;
  background: var(--color-bg);
  color: var(--color-text);
  overflow-x: hidden;
  line-height: 1.6;
}
::selection { background: var(--color-primary); color: #fff; }
a { text-decoration: none; color: inherit; }
ul { list-style: none; }
button { cursor: pointer; border: none; background: none; font: inherit; }

/* ========== GRID LINES (design-system) ========== */
.grid-lines {
  position: fixed; inset: 0; width: 100%; max-width: var(--container-max);
  margin: 0 auto; pointer-events: none; z-index: 0;
  display: flex; justify-content: space-between; padding: 0 var(--nav-pad);
  opacity: 0.3;
}
.grid-line { width: 1px; height: 100%; background: var(--color-bg-alt); }

/* ========== NAVBAR (design-system pattern) ========== */
.navbar {
  position: fixed; top: 0; left: 0; right: 0; z-index: 100;
  display: flex; align-items: center; justify-content: center;
  padding: 1rem var(--nav-pad);
  background: rgba(255,255,255,0.88);
  backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
  border-bottom: 1px solid transparent;
  transition: all 0.6s ease;
}
.navbar.scrolled {
  border-bottom-color: rgba(195,228,233,0.5);
  box-shadow: 0 2px 40px rgba(62,137,163,0.06);
  padding: 0.75rem var(--nav-pad);
}
.navbar-inner {
  display: flex; align-items: center; justify-content: space-between;
  width: 100%; max-width: var(--container-max);
}
.logo-link {
  display: flex; align-items: center; gap: 0.5rem;
  transition: opacity 0.4s ease;
}
.logo-link:hover { opacity: 0.8; }
.logo-link img {
  height: 36px; width: auto;
  transition: transform 0.7s var(--ease-reveal);
}
.logo-link:hover img { transform: scale(1.06) rotate(-2deg); }
.logo-text {
  font-family: 'DM Sans', sans-serif; font-size: 1.1rem; font-weight: 600;
  letter-spacing: -0.03em; text-transform: uppercase; color: var(--color-text);
}
.logo-text span { font-weight: 300; color: var(--color-primary); }

.nav-links { display: none; align-items: center; gap: 2rem; }
.nav-links a {
  font-size: 0.8rem; font-weight: 500; text-transform: uppercase;
  letter-spacing: 0.02em; color: var(--color-text-light);
  transition: color 0.4s ease; position: relative;
}
.nav-links a::after {
  content: ''; position: absolute; bottom: -4px; left: 0;
  width: 0; height: 1.5px; background: var(--color-primary);
  transition: width 0.5s var(--ease-reveal);
}
.nav-links a:hover { color: var(--color-primary); }
.nav-links a:hover::after { width: 100%; }

.nav-cta {
  display: none; align-items: center; gap: 0.5rem;
  padding: 0.6rem 1.25rem; background: var(--color-primary); color: #fff;
  font-size: 0.8rem; font-weight: 500; border-radius: 9999px;
  transition: all 0.4s var(--ease-reveal);
  box-shadow: 0 2px 16px rgba(62,137,163,0.2);
}
.nav-cta:hover { background: var(--color-text); transform: scale(1.04); }
.nav-cta svg { width: 15px; height: 15px; transition: transform 0.4s ease; }
.nav-cta:hover svg { transform: translateX(2px); }

/* Mobile Toggle */
.menu-toggle {
  display: flex; align-items: center; justify-content: center;
  width: 42px; height: 42px; border: 1px solid var(--color-bg-alt);
  border-radius: 10px; transition: all 0.3s ease;
}
.menu-toggle:hover { background: var(--color-bg-alt2); }
.menu-toggle span { display: flex; flex-direction: column; gap: 5px; width: 18px; }
.menu-toggle span i {
  display: block; height: 1.5px; background: var(--color-text);
  border-radius: 2px; transition: all 0.4s var(--ease-reveal);
}
.menu-toggle.active span i:nth-child(1) { transform: translateY(6.5px) rotate(45deg); }
.menu-toggle.active span i:nth-child(2) { opacity: 0; }
.menu-toggle.active span i:nth-child(3) { transform: translateY(-6.5px) rotate(-45deg); }

/* Mobile Menu */
.mobile-menu {
  position: fixed; inset: 0; z-index: 99;
  background: rgba(255,255,255,0.97); backdrop-filter: blur(24px);
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  gap: 1.75rem; opacity: 0; pointer-events: none; transition: opacity 0.5s var(--ease-fade);
}
.mobile-menu.open { opacity: 1; pointer-events: all; }
.mobile-menu a {
  font-family: 'DM Sans', sans-serif; font-size: 1.5rem; font-weight: 300;
  letter-spacing: -0.03em; color: var(--color-text);
  transform: translateY(20px); opacity: 0; transition: color 0.3s ease;
}
.mobile-menu a:hover { color: var(--color-primary); }

/* ========== HERO ========== */
.hero {
  position: relative; min-height: 100vh;
  display: flex; align-items: center;
  padding: 7rem var(--nav-pad) 3rem; overflow: hidden;
}
.hero::before {
  content: ''; position: absolute; inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%233E89A3' fill-opacity='0.015'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
  pointer-events: none; z-index: 0;
}
.hero-ambient {
  position: absolute; top: -25%; right: -20%; width: 75%; height: 130%;
  background: radial-gradient(ellipse at 55% 45%, rgba(195,228,233,0.35) 0%, rgba(230,244,247,0.15) 40%, transparent 70%);
  pointer-events: none; z-index: 0;
  animation: ambientBreathe 14s ease-in-out infinite alternate;
}
.hero-ambient-2 {
  position: absolute; bottom: -10%; left: -10%; width: 50%; height: 60%;
  background: radial-gradient(ellipse at 40% 60%, rgba(122,193,215,0.12) 0%, transparent 60%);
  pointer-events: none; z-index: 0;
  animation: ambientBreathe 18s ease-in-out infinite alternate-reverse;
}
@keyframes ambientBreathe {
  0% { opacity: 0.5; transform: scale(1) translate(0,0); }
  100% { opacity: 1; transform: scale(1.1) translate(-2%,3%); }
}

.container { max-width: var(--container-max); margin: 0 auto; width: 100%; }

.hero-grid {
  position: relative; z-index: 2;
  display: grid; grid-template-columns: 1fr; gap: 3rem; align-items: center;
}

/* ========== HERO TEXT ========== */
.hero-text { max-width: 38rem; }

.hero-badge {
  display: inline-flex; align-items: center; gap: 0.5rem;
  padding: 0.375rem 0.875rem;
  background: rgba(255,255,255,0.85); backdrop-filter: blur(8px);
  border: 1px solid var(--color-bg-alt); border-radius: 9999px;
  margin-bottom: 2rem; opacity: 0; transform: translateY(20px);
  box-shadow: 0 1px 8px rgba(62,137,163,0.06);
}
.pulse-dot {
  width: 6px; height: 6px; background: var(--color-primary);
  border-radius: 50%; animation: pulse 2.5s ease-in-out infinite;
}
@keyframes pulse {
  0%,100% { opacity: 0.4; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.5); }
}
.hero-badge span {
  font-size: 0.65rem; font-weight: 600; letter-spacing: 0.1em;
  text-transform: uppercase; color: var(--color-text-light);
}

/* Headline — design-system H1 + line-mask reveal */
.hero-headline {
  font-family: 'DM Sans', sans-serif;
  font-size: clamp(2.25rem, 5.5vw, 4.75rem);
  font-weight: 300; line-height: 0.92; letter-spacing: -0.04em;
  color: var(--color-text); margin-bottom: 1.5rem;
}
.line-mask { overflow: hidden; display: block; padding-bottom: 0.05em; }
.reveal-text {
  display: block; transform: translateY(115%);
  will-change: transform;
}
.headline-accent {
  font-family: 'Cormorant Garamond', serif; font-style: italic;
  font-weight: 400; color: var(--color-primary);
}
.headline-highlight { color: var(--color-primary); }

/* Subheadline — design-system paragraph L */
.hero-sub {
  font-size: clamp(0.95rem, 1.6vw, 1.125rem); font-weight: 300;
  line-height: 1.75; color: var(--color-text-light);
  max-width: 30rem; margin-bottom: 2.25rem;
  opacity: 0; transform: translateY(20px);
}

/* CTAs — design-system button patterns */
.hero-ctas {
  display: flex; align-items: center; gap: 0.875rem; flex-wrap: wrap;
  opacity: 0; transform: translateY(20px);
}
.cta-primary {
  display: inline-flex; align-items: center; gap: 0.625rem;
  padding: 0.8125rem 1.625rem; background: var(--color-primary); color: #fff;
  font-family: 'DM Sans', sans-serif; font-size: 0.85rem; font-weight: 500;
  border-radius: 9999px;
  transition: all 0.4s var(--ease-reveal);
  box-shadow: 0 3px 20px rgba(62,137,163,0.18);
}
.cta-primary:hover { background: var(--color-text); transform: scale(1.05); box-shadow: 0 6px 32px rgba(26,61,79,0.22); }
.cta-primary svg { width: 16px; height: 16px; transition: transform 0.4s var(--ease-reveal); }
.cta-primary:hover svg { transform: translateX(3px); }

.cta-secondary {
  display: inline-flex; align-items: center; gap: 0.625rem;
  padding: 0.8125rem 1.375rem; background: transparent; color: var(--color-text);
  font-family: 'DM Sans', sans-serif; font-size: 0.85rem; font-weight: 500;
  border-radius: 9999px; border: 1px solid var(--color-bg-alt);
  transition: all 0.4s ease;
}
.cta-secondary:hover { background: var(--color-bg-alt2); border-color: var(--color-accent); color: var(--color-primary); }
.cta-secondary svg { width: 16px; height: 16px; transition: transform 0.4s ease; }
.cta-secondary:hover svg { transform: translateY(2px); }

/* ========== HERO VISUAL — Logo + Canvas ========== */
.hero-visual {
  position: relative; width: 100%; aspect-ratio: 1;
  max-width: 480px; margin: 0 auto;
  display: flex; align-items: center; justify-content: center;
  perspective: 1200px;
}
.hero-visual-canvas {
  position: absolute; inset: 0; width: 100%; height: 100%; z-index: 0;
}
.hero-logo-wrapper {
  position: relative; z-index: 2; width: 55%; max-width: 260px;
  opacity: 0; transform: scale(0.8);
  transform-style: preserve-3d;
  will-change: transform;
}
.hero-logo-float {
  display: block; width: 100%; height: auto;
  filter: drop-shadow(0 12px 40px rgba(62,137,163,0.35));
  animation: logoBreathe 6s ease-in-out infinite alternate;
}
@keyframes logoBreathe {
  0% { transform: translateY(0); filter: drop-shadow(0 12px 30px rgba(62,137,163,0.25)); }
  100% { transform: translateY(-12px); filter: drop-shadow(0 24px 60px rgba(62,137,163,0.45)); }
}

/* Orbital rings */
.orbital { position: absolute; border: 1px solid; border-radius: 50%; opacity: 0; }
.orbital-1 { width: 100%; height: 100%; top: 0; left: 0; border-color: rgba(195,228,233,0.5); }
.orbital-2 { width: 72%; height: 72%; top: 14%; left: 14%; border-color: rgba(195,228,233,0.35); }
.orbital-3 { width: 44%; height: 44%; top: 28%; left: 28%; border-color: rgba(195,228,233,0.25); }

/* ========== CARDS SECTION (design-system service card) ========== */
.hero-cards {
  position: relative; z-index: 2; margin-top: 4rem;
  display: grid; grid-template-columns: 1fr; gap: 1.5rem;
}
/* Service Card — design-system pattern: border-t, mono numeral, icon hover color */
.service-card {
  background: rgba(255,255,255,0.6); backdrop-filter: blur(8px);
  border: 1px solid rgba(195,228,233,0.5); border-radius: 1.25rem;
  padding: 1.75rem; cursor: pointer;
  transition: all 0.5s var(--ease-reveal);
  opacity: 0; transform: translateY(40px);
}
.service-card:hover {
  border-color: var(--color-accent);
  box-shadow: 0 8px 40px rgba(62,137,163,0.08);
  transform: translateY(-4px);
}
.service-card-header {
  display: flex; justify-content: space-between; align-items: flex-start;
  margin-bottom: 1rem;
}
/* Mono numeral — from design-system text-sm font-mono text-zinc-400 */
.card-number {
  font-size: 0.8rem; font-family: 'Inter', monospace; font-weight: 400;
  color: var(--color-accent); letter-spacing: 0.02em;
}
/* Icon container — design-system: p-3 bg-zinc-100 rounded-2xl hover:bg-indigo-50 */
.card-icon-wrap {
  width: 48px; height: 48px; border-radius: 14px;
  background: var(--color-bg-alt2);
  display: flex; align-items: center; justify-content: center;
  transition: background 0.5s ease;
}
.service-card:hover .card-icon-wrap { background: rgba(62,137,163,0.12); }
.card-icon-wrap svg {
  width: 24px; height: 24px; color: var(--color-text-light);
  transition: color 0.5s ease;
}
.service-card:hover .card-icon-wrap svg { color: var(--color-primary); }
/* Card title — design-system: text-2xl font-display font-medium */
.card-title {
  font-family: 'DM Sans', sans-serif; font-size: 1.2rem; font-weight: 500;
  letter-spacing: -0.02em; color: var(--color-text); margin-bottom: 0.5rem;
}
.card-desc {
  font-size: 0.85rem; line-height: 1.65; color: var(--color-text-light);
  font-weight: 300;
}

/* Arrow button — from design-system: w-10 h-10 rounded-full border hover:bg-zinc-900 hover:text-white */
.card-arrow {
  width: 36px; height: 36px; border-radius: 50%;
  border: 1px solid var(--color-bg-alt);
  display: flex; align-items: center; justify-content: center;
  margin-top: 1rem;
  transition: all 0.4s var(--ease-reveal);
}
.card-arrow svg { width: 16px; height: 16px; color: var(--color-text-light); transition: color 0.3s ease; }
.service-card:hover .card-arrow {
  background: var(--color-primary); border-color: var(--color-primary);
}
.service-card:hover .card-arrow svg { color: #fff; }



/* ========== SCROLL INDICATOR ========== */
.scroll-indicator {
  position: absolute; bottom: 2rem; left: 50%; transform: translateX(-50%);
  display: flex; flex-direction: column; align-items: center; gap: 0.5rem;
  opacity: 0; z-index: 2;
}
.scroll-indicator span {
  font-size: 0.65rem; font-weight: 500; letter-spacing: 0.12em;
  text-transform: uppercase; color: var(--color-text-light); opacity: 0.5;
}
.scroll-line {
  width: 1px; height: 36px;
  background: linear-gradient(to bottom, var(--color-primary), transparent);
  animation: scrollPulse 2.5s ease-in-out infinite;
}
@keyframes scrollPulse {
  0%,100% { opacity: 0.3; transform: scaleY(0.6); }
  50% { opacity: 1; transform: scaleY(1); }
}

/* ========== RESPONSIVE ========== */
@media (min-width: 768px) {
  .nav-links { display: flex; }
  .nav-cta { display: inline-flex; }
  .menu-toggle { display: none; }
  .hero { padding: 0 var(--nav-pad); min-height: 100vh; }
  .hero-grid { grid-template-columns: 1.15fr 0.85fr; gap: 3rem; }
  .hero-cards { grid-template-columns: repeat(3, 1fr); }
  .hero-visual { max-width: 100%; }
}
@media (min-width: 1024px) {
  .hero-grid { grid-template-columns: 1.1fr 0.9fr; gap: 4.5rem; }
  .hero-headline { font-size: clamp(3.25rem, 4.2vw, 4.5rem); }
}
@media (max-width: 767px) {
  .hero { min-height: auto; padding-top: 6.5rem; padding-bottom: 2.5rem; }
  .hero-grid { text-align: center; justify-items: center; }
  .hero-text { display: flex; flex-direction: column; align-items: center; }
  .hero-badge { margin: 0 auto 1.5rem auto; }
  .hero-headline { font-size: clamp(2.125rem, 8vw, 3rem); line-height: 1.1; margin-bottom: 1.25rem; }
  
  /* Permita wrap limpo se as palavras excederem a largura do device: */
  .line-mask { display: inline-block; white-space: normal; }
  
  .hero-sub { text-align: center; margin: 0 auto 2rem auto; font-size: 1rem; max-width: 90%; }
  .hero-ctas { justify-content: center; flex-direction: column; width: 100%; gap: 1rem; }
  .cta-primary, .cta-secondary { width: 100%; justify-content: center; text-align: center; }
  
  /* Visual acima do texto, alinhado e escalado suavemente */
  .hero-visual { max-width: 260px; order: -1; margin-bottom: 1.5rem; }
  
  .scroll-indicator { display: none; }
  .grid-lines .grid-line:nth-child(2),
  .grid-lines .grid-line:nth-child(3) { display: none; }
  
  /* Cards de Projetos / Serviço com mais respiro */
  .hero-cards { gap: 1.5rem; padding-top: 1.5rem; }
  .project-fold { padding: 4rem var(--nav-pad); gap: 2rem; }
  .pf-title { font-size: 2.2rem; }
  .pf-image-wrap { margin-top: 1rem; border-radius: 1.5rem; }
}

/* ========== PORTFOLIO & SECTIONS ========== */
.section-pad {
  padding: 8rem var(--nav-pad) 4rem;
  max-width: var(--container-max);
  margin: 0 auto;
}
.section-header {
  margin-bottom: 5rem;
  max-width: 48rem;
}
.section-tag {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  color: var(--color-primary);
  font-size: 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-bottom: 1rem;
}
.section-title {
  font-family: 'DM Sans', sans-serif;
  font-size: clamp(2.5rem, 4vw, 3.5rem);
  font-weight: 300;
  letter-spacing: -0.04em;
  color: var(--color-text);
}
.section-title span {
  font-family: 'Cormorant Garamond', serif;
  font-style: italic;
  color: var(--color-primary);
}

/* --- Alternating Project Fold --- */
.project-fold {
  max-width: var(--container-max);
  margin: 0 auto;
  padding: 8rem var(--nav-pad);
  display: grid;
  grid-template-columns: 1fr;
  gap: 4rem;
  align-items: center;
}
@media (min-width: 900px) {
  .project-fold {
    grid-template-columns: 1fr 1.1fr;
    gap: 6vw;
  }
  .project-fold.reverse {
    direction: rtl;
  }
  .project-fold.reverse > * {
    direction: ltr;
  }
}
.pf-image-wrap {
  position: relative;
  width: 100%;
  aspect-ratio: 4/3;
  border-radius: 2rem;
  overflow: hidden;
  background-color: var(--color-bg-alt2);
  box-shadow: 0 30px 60px rgba(62,137,163,0.12);
  /* Fix Safari border-radius overflow bug during animations: */
  transform: translateZ(0);
  -webkit-mask-image: -webkit-radial-gradient(white, black);
  mask-image: radial-gradient(white, black);
  transition: box-shadow 0.8s cubic-bezier(0.16, 1, 0.3, 1), transform 0.8s cubic-bezier(0.16, 1, 0.3, 1);
}
.project-fold:hover .pf-image-wrap {
  box-shadow: 0 40px 80px rgba(62,137,163,0.25);
  transform: translateY(-8px);
}
.pf-image-wrap img {
  width: 100%;
  height: 100%;
  object-fit: cover; /* Fiel ao tamanho do card */
  transition: transform 1.2s cubic-bezier(0.16, 1, 0.3, 1), filter 1.2s ease;
  will-change: transform;
}
.project-fold:hover .pf-image-wrap img {
  transform: scale(1.06); /* Efeito ao colocar o mouse */
}
.pf-overlay {
  position: absolute;
  inset: 0;
  background-color: rgba(62,137,163, 0.04);
  pointer-events: none;
  transition: background-color 0.8s ease;
}
.project-fold:hover .pf-overlay {
  background-color: rgba(62,137,163, 0);
}
.pf-text {
  max-width: 32rem;
  display: flex;
  flex-direction: column;
  gap: 1.2rem;
}
.pf-title {
  font-family: 'DM Sans', sans-serif;
  font-size: clamp(2rem, 3vw, 3rem);
  font-weight: 300;
  letter-spacing: -0.04em;
  color: var(--color-text);
  line-height: 1.1;
  margin-bottom: 0.5rem;
}
.pf-title span {
  font-family: 'Cormorant Garamond', serif;
  font-style: italic;
  color: var(--color-primary);
}
.pf-desc {
  font-size: 1.125rem;
  line-height: 1.8;
  color: var(--color-text-light);
  font-weight: 300;
}

/* Novo Efeito de badge shimer e slide para animar a entrada dos textos de forma vívida */
.section-tag {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  color: var(--color-primary);
  font-size: 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  padding: 0.5rem 1rem;
  background: var(--color-bg-alt2);
  border-radius: 20px;
  width: fit-content;
  position: relative;
  overflow: hidden;
}
.section-tag::before {
  content: '';
  position: absolute;
  top: 0; left: -100%; width: 50%; height: 100%;
  background: linear-gradient(to right, transparent, rgba(255,255,255,0.7), transparent);
  transform: skewX(-20deg);
  transition: left 0.7s ease;
}
.project-fold:hover .section-tag::before {
  left: 150%;
  transition-duration: 1.2s;
}

/* ========== FOOTER ========== */
.footer {
  position: relative;
  z-index: 10;
  background-color: var(--color-text); /* Cor contrastante / escura */
  color: #fff;
  padding: 6rem var(--nav-pad) 3rem;
  border-top: none;
}
.footer-grid {
  max-width: var(--container-max);
  margin: 0 auto;
  display: grid;
  grid-template-columns: 1fr;
  gap: 4rem;
}
@media (min-width: 800px) {
  .footer-grid {
    grid-template-columns: 1.5fr 1fr;
  }
}
.footer-brand {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1.5rem;
}
.footer-logo {
  width: 32px;
  height: auto;
  filter: brightness(0) invert(1); /* Deixa a logo branca */
}
.footer-brand span {
  font-family: 'DM Sans', sans-serif;
  font-size: 1.25rem;
  font-weight: 500;
  letter-spacing: -0.04em;
  color: #fff;
}
.footer-text {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.7);
  line-height: 1.6;
  max-width: 24rem;
  margin-bottom: 2rem;
}
.footer-contact h4 {
  font-family: 'DM Sans', sans-serif;
  font-size: 1.125rem;
  font-weight: 500;
  color: #fff;
  margin-bottom: 1rem;
}
.footer-contact p {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.7);
  margin-bottom: 0.5rem;
}
.footer-contact a {
  color: var(--color-accent);
  text-decoration: none;
  font-weight: 500;
  transition: opacity 0.3s;
}
.footer-contact a:hover {
  opacity: 0.7;
}
.footer-socials {
  display: flex;
  gap: 1rem;
  margin-top: 1.5rem;
}
.footer-socials a {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background-color: rgba(255, 255, 255, 0.1);
  color: #fff;
  transition: all 0.3s ease;
}
.footer-socials a:hover {
  background-color: var(--color-primary);
  color: #fff;
  transform: translateY(-3px);
}
.footer-bottom {
  max-width: var(--container-max);
  margin: 4rem auto 0;
  padding-top: 2rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  font-size: 0.85rem;
  color: rgba(255,255,255,0.6);
}
@media (min-width: 600px) {
  .footer-bottom {
    flex-direction: row;
  }
}


/* ========== PREFERS REDUCED MOTION ========== */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  .reveal-text { transform: none !important; }
}
</style>
</head>
<body>

<!-- Grid Lines -->
<div class="grid-lines" aria-hidden="true">
  <div class="grid-line"></div><div class="grid-line"></div>
  <div class="grid-line"></div><div class="grid-line"></div>
</div>

<!-- Mobile Menu -->
<div class="mobile-menu" id="mobileMenu">
  <a href="#atuacao" onclick="closeMobileMenu()">Atuação</a>
  <a href="#projetos" onclick="closeMobileMenu()">Projetos</a>
  <a href="#pesquisa" onclick="closeMobileMenu()">Pesquisa</a>
  <a href="#publicacoes" onclick="closeMobileMenu()">Publicações</a>
  <a href="#contato" onclick="closeMobileMenu()">Contato</a>
</div>

<!-- Navbar -->
<nav class="navbar" id="navbar">
  <div class="navbar-inner">
    <a href="#" class="logo-link" aria-label="Instituto Clio">
      <img src="media/images/logo-clio.png" alt="Instituto Clio" />
      <div class="logo-text">Instituto <span>Clio</span></div>
    </a>
    <ul class="nav-links">
      <li><a href="#atuacao">Atuação</a></li>
      <li><a href="#projetos">Projetos</a></li>
      <li><a href="#pesquisa">Pesquisa</a></li>
      <li><a href="#publicacoes">Publicações</a></li>
      <li><a href="#contato">Contato</a></li>
    </ul>
    <a href="#contato" class="nav-cta">
      Fale Conosco
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
    </a>
    <button class="menu-toggle" id="menuToggle" aria-label="Menu">
      <span><i></i><i></i><i></i></span>
    </button>
  </div>
</nav>

<!-- HERO -->
<section class="hero" id="hero">
  <div class="hero-ambient" aria-hidden="true"></div>
  <div class="hero-ambient-2" aria-hidden="true"></div>

  <div class="container">
    <div class="hero-grid">

      <!-- TEXT -->
      <div class="hero-text">
        <div class="hero-badge" id="heroBadge">
          <div class="pulse-dot"></div>
          <span>Preservação · Pesquisa · Impacto</span>
        </div>

        <h1 class="hero-headline">
          <span class="line-mask"><span class="reveal-text">Onde a</span></span>
          <span class="line-mask"><span class="reveal-text headline-accent">memória</span></span>
          <span class="line-mask"><span class="reveal-text">se torna</span></span>
          <span class="line-mask"><span class="reveal-text">infraestrutura</span></span>
          <span class="line-mask"><span class="reveal-text headline-highlight">do futuro.</span></span>
        </h1>

        <p class="hero-sub" id="heroSub">
          Ciência da informação, tecnologia e rigor científico aplicados à preservação do patrimônio cultural como ativo estratégico para a sociedade.
        </p>

        <div class="hero-ctas" id="heroCtas">
          <a href="#projetos" class="cta-primary">
            Conheça nossa atuação
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
          </a>
          <a href="#pesquisa" class="cta-secondary">
            Pesquisa e Publicações
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 7l10 10M7 17V7h10"/></svg>
          </a>
        </div>


      </div>

      <!-- VISUAL -->
      <div class="hero-visual" id="heroVisual">
        <canvas id="networkCanvas" class="hero-visual-canvas"></canvas>
        <div class="orbital orbital-1"></div>
        <div class="orbital orbital-2"></div>
        <div class="orbital orbital-3"></div>
        <div class="hero-logo-wrapper" id="heroLogoWrap">
          <img src="media/images/logo-clio.png" alt="" class="hero-logo-float" id="heroLogo" aria-hidden="true"/>
        </div>
      </div>
    </div>

    <!-- SERVICE CARDS — design-system service card pattern -->
    <div class="hero-cards" id="heroCards">
      <!-- Card 1 -->
      <div class="service-card">
        <div class="service-card-header">
          <span class="card-number">01</span>
          <div class="card-icon-wrap">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"/>
            </svg>
          </div>
        </div>
        <h3 class="card-title">Preservação de Acervos</h3>
        <p class="card-desc">Digitalização e catalogação de patrimônios documentais com rigor arquivístico e padrões internacionais.</p>
        <div class="card-arrow">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 17L17 7M7 7h10v10"/></svg>
        </div>
      </div>

      <!-- Card 2 -->
      <div class="service-card">
        <div class="service-card-header">
          <span class="card-number">02</span>
          <div class="card-icon-wrap">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23.693L5 14.5m14.8.8l1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0112 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"/>
            </svg>
          </div>
        </div>
        <h3 class="card-title">Pesquisa Científica</h3>
        <p class="card-desc">Produção de conhecimento acadêmico sobre memória, informação e cultura com impacto social mensurável.</p>
        <div class="card-arrow">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 17L17 7M7 7h10v10"/></svg>
        </div>
      </div>

      <!-- Card 3 -->
      <div class="service-card">
        <div class="service-card-header">
          <span class="card-number">03</span>
          <div class="card-icon-wrap">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"/>
            </svg>
          </div>
        </div>
        <h3 class="card-title">Tecnologia e Inovação</h3>
        <p class="card-desc">Infraestruturas digitais para acesso, gestão e disseminação de acervos culturais e históricos.</p>
        <div class="card-arrow">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 17L17 7M7 7h10v10"/></svg>
        </div>
      </div>
    </div>
  </div>

  <div class="scroll-indicator" id="scrollIndicator">
    <span>Explorar</span>
    <div class="scroll-line"></div>
  </div>
</section>

<!-- ======================================== -->
<!-- DOBRA 1: ESTAÇÃO DA MEMÓRIA URB.             -->
<!-- ======================================== -->
<section class="project-fold" id="emur">
  <div class="pf-text reveal-fade">
    <div class="section-tag">
      <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
      URB - Recife • 2014 - Atualmente
    </div>
    <h2 class="pf-title">Estação da Memória <span>Urbanística do Recife</span></h2>
    <p class="pf-desc">A Estação da Memória Urbanística do Recife (EMUR) é um projeto em desenvolvimento que busca preservar e promover a história urbanística da cidade. Fruto de uma iniciativa conjunta entre a Autarquia de Urbanização do Recife (URB), o Instituto Clio e o Laboratório Liber da UFPE, a EMUR visa integrar novas perspectivas de conhecimento à pesquisa sobre a cidade. Seu principal objetivo é estudar e ressignificar o planejamento urbano, com foco na preservação histórica e na sustentabilidade.</p>
  </div>
  <div class="pf-image-wrap reveal-parallax">
    <img src="media/images/estacao_da_memoria.jpg" alt="Estação da Memória Urbanística do Recife" class="px-image" style="object-fit: contain; background-color: #fff; padding: 2rem;"/>
    <div class="pf-overlay"></div>
  </div>
</section>

<!-- ======================================== -->
<!-- DOBRA 2: MEMORIAL JOAQUIM CAETANO        -->
<!-- ======================================== -->
<div style="background-color: var(--color-bg-alt); width: 100%;">
<section class="project-fold reverse" id="joaquim-caetano">
  <div class="pf-text reveal-fade">
    <div class="section-tag">
      <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="16" height="16"><path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"></path><circle cx="12" cy="10" r="3"></circle></svg>
      Embaixada do Reino dos Países Baixos • 2008
    </div>
    <h2 class="pf-title">Memorial Histórico <span>Joaquim Caetano</span></h2>
    <p class="pf-desc">Resgatamos e tornamos públicos documentos de grande interesse para a história do Brasil, que foram coletados pelo Dr. Joaquim Caetano Silva e estavam em arquivos neerlandeses. O projeto envolveu a digitalização e tradução dos manuscritos, o desenvolvimento de um site com banco de dados online e a publicação do primeiro livro da coleção Joaquim Caetano.</p>
  </div>
  <div class="pf-image-wrap reveal-parallax">
    <img src="media/images/joaquim.jpg" alt="Memorial Histórico Joaquim Caetano" class="px-image" style="object-position: center;"/>
    <div class="pf-overlay"></div>
  </div>
</section>
</div>

<!-- ======================================== -->
<!-- DOBRA 3: BIBLIOTECA AIP                  -->
<!-- ======================================== -->
<section class="project-fold" id="biblioteca-aip">
  <div class="pf-text reveal-fade">
    <div class="section-tag">
      <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
      FUNDARPE • Abril a Agosto de 2012
    </div>
    <h2 class="pf-title">Restauração do Acervo <span>Biblioteca da AIP</span></h2>
    <p class="pf-desc">Higienização e organização do acervo histórico e bibliográfico da Biblioteca da Associação de Imprensa de Pernambuco - AIP, abarcando o recondicionamento e a ambientação adequadas, finalizando com a inclusão de todo acervo em programa digital para otimização da consulta online e presencial.</p>
  </div>
  <div class="pf-image-wrap reveal-parallax">
    <img src="media/images/aip.jpg" alt="Associação de Imprensa de Pernambuco" class="px-image" style="object-fit: contain; background-color: #fff; padding: 2rem;"/>
    <div class="pf-overlay"></div>
  </div>
</section>

<!-- ======================================== -->
<!-- DOBRA 4: DISCOS ROZENBLIT                -->
<!-- ======================================== -->
<div style="background-color: var(--color-bg-alt); width: 100%;">
<section class="project-fold reverse" id="discos-rozenblit">
  <div class="pf-text reveal-fade">
    <div class="section-tag">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="16" height="16"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="3"/></svg>
      BNDES • 2010 a 2011
    </div>
    <h2 class="pf-title">Acervo Digital da Fábrica <span>de Discos Rozenblit</span></h2>
    <p class="pf-desc">Elaboramos um projeto integral para a restauração, tratamento, migração de mídia e disponibilização democrática ao público do inestimável acervo fonográfico da extinta fábrica de discos Rozenblit. A proposta foi rigorosamente avaliada e aprovada técnica e administrativamente pelo BNDES através do seu Programa de Preservação de Acervos.</p>
  </div>
  <div class="pf-image-wrap reveal-parallax">
    <img src="media/images/9.jpg" alt="Fábrica de Discos Rozenblit" class="px-image" style="object-fit: cover;"/>
    <div class="pf-overlay"></div>
  </div>
</section>
</div>

<!-- ======================================== -->
<!-- DOBRA 5: PLATAFORMA INFÂNCIA & VIOLÊNCIA -->
<!-- ======================================== -->
<section class="project-fold" id="violencia-infancia">
  <div class="pf-text reveal-fade">
    <div class="section-tag">
      <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
      Save the Children Suécia • 2007 a 2008
    </div>
    <h2 class="pf-title">Plataforma Virtual <span>Violência e Infância</span></h2>
    <p class="pf-desc">Desenvolvimento de um sistema de repositório institucional que gerencia e disponibiliza livre acesso aos documentos digitais em PDF, englobando livros, relatórios e outros materiais bibliográficos socioculturais. O projeto também inclui a concessão contínua da licença de uso do software CLIO na administração do acervo digital.</p>
  </div>
  <div class="pf-image-wrap reveal-parallax">
    <img src="media/images/plataforma_virtual.avif" alt="Plataforma Virtual Violência e Infância" class="px-image" style="object-fit: cover;" />
    <div class="pf-overlay"></div>
  </div>
</section>

<!-- ======================================== -->
<!-- DOBRA 6: INTELIGÊNCIA ARTIFICIAL CLIO    -->
<!-- ======================================== -->
<div style="background-color: var(--color-bg-alt); width: 100%;">
<section class="project-fold reverse" id="inteligencia-artificial">
  <div class="pf-text reveal-fade">
    <div class="section-tag">
      <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>
      Instituto Clio • Janeiro a Maio de 2008
    </div>
    <h2 class="pf-title">Preservação e acesso ao patrimônio mútuo entre o <span>Brasil e os Países Baixos</span></h2>
    <p class="pf-desc">Adentrando a nova era da digitalização tecnológica, implementamos uma modelagem unificada gerada por Inteligência Artificial para extração automática de entidades e semântica de acervos massivos em fração de segundos. Este projeto prospecta a infraestrutura do futuro na Ciência da Informação, interligando o patrimônio histórico às gerações hiperconectadas.</p>
  </div>
  <div class="pf-image-wrap reveal-parallax">
    <img src="media/images/10.png" alt="ClioNet: Laboratório Neural" class="px-image" style="object-fit: cover;" />
    <div class="pf-overlay"></div>
  </div>
</section>
</div>

<!-- ======================================== -->
<!-- FOOTER                                   -->
<!-- ======================================== -->
<footer class="footer" id="contato">
  <div class="footer-grid">
    <div>
      <div class="footer-brand">
        <img src="media/images/logo-clio.png" alt="Instituto Clio Logo" class="footer-logo" />
        <span>Instituto Clio</span>
      </div>
      <p class="footer-text">Onde a memória se torna infraestrutura do futuro. Ciência da informação, tecnologia e rigor científico aplicados à preservação do patrimônio cultural como ativo estratégico para a sociedade.</p>
      
      <div class="footer-socials">
        <a href="#" aria-label="LinkedIn">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg>
        </a>
        <a href="#" aria-label="Instagram">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>
        </a>
        <a href="#" aria-label="Twitter">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/></svg>
        </a>
      </div>
    </div>
    
    <div>
      <div class="footer-contact">
        <h4>Fale Conosco</h4>
        <p>E-mail: <a href="mailto:ict@institutoclio.org">ict@institutoclio.org</a></p>
        <p>Tel: +55 (81) 99713-9123</p>
      </div>
    </div>
  </div>
  
  <div class="footer-bottom">
    <p>© 2025 - Instituto Clio. Todos os direitos reservados.</p>
    <div style="display:flex; gap:2rem;">
      <a href="#" style="color:var(--color-primary); text-decoration:none;">Privacidade</a>
      <a href="#" style="color:var(--color-primary); text-decoration:none;">Termos de Uso</a>
    </div>
  </div>
</footer>

<!-- ======================================== -->
<!-- SCRIPTS                                  -->
<!-- ======================================== -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  gsap.registerPlugin(ScrollTrigger);

  // Navbar scroll
  const navbar = document.getElementById('navbar');
  window.addEventListener('scroll', () => {
    navbar.classList.toggle('scrolled', window.scrollY > 40);
  });

  // Mobile menu
  const menuToggle = document.getElementById('menuToggle');
  const mobileMenu = document.getElementById('mobileMenu');
  menuToggle.addEventListener('click', () => {
    menuToggle.classList.toggle('active');
    mobileMenu.classList.toggle('open');
    document.body.style.overflow = mobileMenu.classList.contains('open') ? 'hidden' : '';
    if (mobileMenu.classList.contains('open')) {
      gsap.fromTo(mobileMenu.querySelectorAll('a'),
        { y: 30, opacity: 0 },
        { y: 0, opacity: 1, duration: 0.8, stagger: 0.1, ease: 'power4.out', delay: 0.15 }
      );
    }
  });
  window.closeMobileMenu = () => {
    menuToggle.classList.remove('active');
    mobileMenu.classList.remove('open');
    document.body.style.overflow = '';
  };

  // ===== HERO ANIMATION TIMELINE =====
  let mm = gsap.matchMedia();

  mm.add("(min-width: 768px)", () => {
    // Desktop Timeline
    const tl = gsap.timeline({ defaults: { ease: 'power4.out' } });

    tl.to('#heroBadge', { opacity: 1, y: 0, duration: 1, ease: 'power2.out' }, 0.2);
    tl.fromTo('.reveal-text', { y: '115%' }, { y: '0%', duration: 1.5, stagger: 0.15 }, 0.5);
    tl.to('#heroSub', { opacity: 1, y: 0, duration: 1, ease: 'power2.out' }, 1.5);
    tl.to('#heroCtas', { opacity: 1, y: 0, duration: 1, ease: 'power2.out' }, 1.8);

    tl.to('#heroLogoWrap', {
      opacity: 1, scale: 1, duration: 2, ease: 'elastic.out(1, 0.75)'
    }, 0.8);

    tl.to('.orbital', { opacity: 1, duration: 1.5, stagger: 0.2, ease: 'power3.out' }, 1);
    tl.fromTo('#networkCanvas', { opacity: 0 }, { opacity: 1, duration: 2, ease: 'power2.out' }, 0.6);

    tl.to('.service-card', {
      opacity: 1, y: 0, duration: 1, stagger: 0.15, ease: 'power3.out'
    }, 2.4);

    tl.to('#scrollIndicator', { opacity: 1, duration: 1, ease: 'power2.out' }, 3);
  });

  mm.add("(max-width: 767px)", () => {
    // Mobile Timeline
    const tl = gsap.timeline({ defaults: { ease: 'power4.out' } });

    // Ensure elements are pre-set gracefully for fade
    gsap.set('.reveal-text', { y: 0, opacity: 0 });

    tl.to('#heroLogoWrap', { opacity: 1, scale: 1, duration: 1.5, ease: 'back.out(1.4)' }, 0.2);
    tl.fromTo('#networkCanvas', { opacity: 0 }, { opacity: 1, duration: 1.5 }, 0.2);
    tl.to('.orbital', { opacity: 1, duration: 1, stagger: 0.1 }, 0.4);

    tl.to('#heroBadge', { opacity: 1, y: 0, duration: 0.8 }, 0.6);
    // Smooth reveal for words avoiding Y-axis clipping on breaks
    tl.to('.reveal-text', { opacity: 1, y: 0, duration: 1, stagger: 0.1 }, 0.8);
    tl.to('#heroSub', { opacity: 1, y: 0, duration: 0.8 }, 1.2);
    tl.to('#heroCtas', { opacity: 1, y: 0, duration: 0.8 }, 1.4);

    // Instead of timeline, trigger Service Cards on scroll since they are way below fold
    gsap.utils.toArray('.service-card').forEach(card => {
      gsap.fromTo(card,
        { opacity: 0, y: 30 },
        { 
          y: 0, opacity: 1, duration: 1, ease: 'power3.out',
          scrollTrigger: { trigger: card, start: "top 85%" }
        }
      );
    });
  });

  // Slow orbital rotation
  document.querySelectorAll('.orbital').forEach((ring, i) => {
    gsap.to(ring, {
      rotation: i % 2 === 0 ? 360 : -360,
      duration: 100 + i * 30, repeat: -1, ease: 'none'
    });
  });

  // Parallax 3D mouse interaction
  const visualWrap = document.getElementById('heroVisual');
  const logoWrap = document.getElementById('heroLogoWrap');
  const rings = document.querySelectorAll('.orbital');
  
  const xTo = gsap.quickTo(logoWrap, "x", {duration: 0.8, ease: "power3"});
  const yTo = gsap.quickTo(logoWrap, "y", {duration: 0.8, ease: "power3"});
  const rotXTo = gsap.quickTo(logoWrap, "rotationX", {duration: 0.8, ease: "power3"});
  const rotYTo = gsap.quickTo(logoWrap, "rotationY", {duration: 0.8, ease: "power3"});
  
  const ringsXTo = Array.from(rings).map(r => gsap.quickTo(r, "x", {duration: 1.2, ease: "power3"}));
  const ringsYTo = Array.from(rings).map(r => gsap.quickTo(r, "y", {duration: 1.2, ease: "power3"}));

  document.getElementById('hero').addEventListener("mousemove", (e) => {
    const rect = visualWrap.getBoundingClientRect();
    const cx = rect.left + rect.width / 2;
    const cy = rect.top + rect.height / 2;
    const normX = Math.max(-1, Math.min(1, (e.clientX - cx) / (window.innerWidth / 2)));
    const normY = Math.max(-1, Math.min(1, (e.clientY - cy) / (window.innerHeight / 2)));
    
    xTo(normX * 50);
    yTo(normY * 50);
    rotXTo(-normY * 25);
    rotYTo(normX * 25);

    ringsXTo.forEach((to, i) => to(normX * -20 * (i + 1)));
    ringsYTo.forEach((to, i) => to(normY * -20 * (i + 1)));
  });
  
  document.getElementById('hero').addEventListener("mouseleave", () => {
    xTo(0); yTo(0); rotXTo(0); rotYTo(0);
    ringsXTo.forEach(to => to(0));
    ringsYTo.forEach(to => to(0));
  });

  // scroll indicator removed from main flow since it's desktop-only
  gsap.to('#scrollIndicator', {
    opacity: 0, ease: 'none',
    scrollTrigger: { trigger: '#hero', start: 'top top', end: '+=200', scrub: true }
  });

  // ===== NEW SECTIONS ANIMATIONS =====
  
  // Staggered Text Reveal for Project Folds
  gsap.utils.toArray('.project-fold').forEach(fold => {
    const textBlock = fold.querySelector('.pf-text');
    const tag = fold.querySelector('.section-tag');
    const title = fold.querySelector('.pf-title');
    const desc = fold.querySelector('.pf-desc');
    
    // Smooth, organic stagger for text parts
    gsap.fromTo([tag, title, desc], 
      { y: 40, opacity: 0 },
      { 
        y: 0, 
        opacity: 1, 
        duration: 1.2, 
        stagger: 0.15,
        ease: "power3.out",
        scrollTrigger: { 
          trigger: textBlock, 
          start: "top 85%" 
        }
      }
    );
  });

  // Parallax Images Y-Axis & Scale entry
  gsap.utils.toArray('.reveal-parallax').forEach(wrap => {
    const img = wrap.querySelector('.px-image');
    
    // Scale and drift container in with spring-like cubic bezier
    gsap.fromTo(wrap,
      { y: 80, opacity: 0, scale: 0.92, rotationX: 4 },
      { 
        y: 0, 
        opacity: 1, 
        scale: 1, 
        rotationX: 0,
        duration: 1.6, 
        ease: "elastic.out(1, 0.85)", // Adds sophisticated elasticity
        scrollTrigger: { trigger: wrap, start: "top 90%" }
      }
    );

    // Subtle scale inwards on image during scroll (instead of Parallax Y tracking)
    // Ensures image never 'leaks' outside the aspect ratio edges
    if (img) {
      gsap.fromTo(img, 
        { scale: 1.07 },
        {
          scale: 1, 
          ease: "none",
          scrollTrigger: {
            trigger: wrap,
            start: "top bottom",
            end: "bottom top",
            scrub: true
          }
        }
      );
    }
  });

  // ===== KNOWLEDGE NETWORK CANVAS =====
  initCanvas();
});

function initCanvas() {
  const canvas = document.getElementById('networkCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  let w, h, nodes = [], animId;
  const count = window.innerWidth < 768 ? 30 : 50;

  let mouseCtx = { x: -1000, y: -1000 };
  canvas.parentElement.addEventListener('mousemove', (e) => {
    const rect = canvas.getBoundingClientRect();
    mouseCtx.x = e.clientX - rect.left;
    mouseCtx.y = e.clientY - rect.top;
  });
  canvas.parentElement.addEventListener('mouseleave', () => {
    mouseCtx.x = -1000; mouseCtx.y = -1000;
  });

  function resize() {
    const rect = canvas.parentElement.getBoundingClientRect();
    const dpr = Math.min(window.devicePixelRatio || 1, 2);
    w = rect.width; h = rect.height;
    canvas.width = w * dpr; canvas.height = h * dpr;
    canvas.style.width = w + 'px'; canvas.style.height = h + 'px';
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
  }

  function createNodes() {
    nodes = [];
    const cx = w / 2, cy = h / 2, maxR = Math.min(w, h) * 0.46;
    for (let i = 0; i < count; i++) {
      const zone = Math.random();
      let r;
      if (zone < 0.2) r = maxR * 0.12 * Math.random();
      else if (zone < 0.5) r = maxR * (0.22 + 0.28 * Math.random());
      else r = maxR * (0.52 + 0.48 * Math.random());
      const angle = Math.random() * Math.PI * 2;
      nodes.push({
        x: cx + Math.cos(angle) * r, y: cy + Math.sin(angle) * r,
        ox: cx + Math.cos(angle) * r, oy: cy + Math.sin(angle) * r,
        vx: 0, vy: 0,
        size: 1.2 + Math.random() * 2.5,
        speed: 0.12 + Math.random() * 0.28,
        phase: Math.random() * Math.PI * 2,
        amp: 2 + Math.random() * 9,
        opacity: 0.15 + Math.random() * 0.5,
        zone: zone < 0.2 ? 0 : (zone < 0.5 ? 1 : 2)
      });
    }
  }

  function draw(t) {
    ctx.clearRect(0, 0, w, h);
    const time = t * 0.001;

    nodes.forEach(n => {
      // Base oscillation target
      let targetX = n.ox + Math.sin(time * n.speed + n.phase) * n.amp;
      let targetY = n.oy + Math.cos(time * n.speed * 0.7 + n.phase) * n.amp * 0.6;

      // Mouse repulsion for organic fluidity
      if (mouseCtx.x > -1000) {
        const dx = mouseCtx.x - targetX;
        const dy = mouseCtx.y - targetY;
        const dist = Math.sqrt(dx * dx + dy * dy);
        const radius = 140;
        if (dist < radius) {
          const force = Math.pow((radius - dist) / radius, 1.5);
          targetX -= (dx / dist) * force * 40; 
          targetY -= (dy / dist) * force * 40;
        }
      }

      // Smooth interpolation using velocity
      n.vx += (targetX - n.x) * 0.05;
      n.vy += (targetY - n.y) * 0.05;
      n.vx *= 0.85; // friction
      n.vy *= 0.85;
      
      n.x += n.vx;
      n.y += n.vy;
    });

    const connDist = Math.min(w, h) * 0.22;
    for (let i = 0; i < nodes.length; i++) {
      for (let j = i + 1; j < nodes.length; j++) {
        const dx = nodes[j].x - nodes[i].x;
        const dy = nodes[j].y - nodes[i].y;
        const dist = Math.sqrt(dx * dx + dy * dy);
        if (dist < connDist) {
          const alpha = (1 - dist / connDist) * 0.1;
          ctx.strokeStyle = `rgba(62,137,163,${alpha})`;
          ctx.lineWidth = 0.5;
          ctx.beginPath();
          ctx.moveTo(nodes[i].x, nodes[i].y);
          ctx.lineTo(nodes[j].x, nodes[j].y);
          ctx.stroke();
        }
        // Data flow particles
        if (dist < connDist * 0.65 && (i + j) % 4 === 0) {
          const p = Math.sin(time * 0.7 + i * 0.4) * 0.5 + 0.5;
          const px = nodes[i].x + dx * p;
          const py = nodes[i].y + dy * p;
          ctx.fillStyle = `rgba(122,193,215,${(1 - dist / connDist) * 0.35})`;
          ctx.beginPath();
          ctx.arc(px, py, 1.1, 0, Math.PI * 2);
          ctx.fill();
        }
      }
    }

    nodes.forEach(n => {
      // Glow
      const g = ctx.createRadialGradient(n.x, n.y, 0, n.x, n.y, n.size * 4);
      g.addColorStop(0, `rgba(62,137,163,${n.opacity * 0.12})`);
      g.addColorStop(1, 'rgba(62,137,163,0)');
      ctx.fillStyle = g;
      ctx.beginPath();
      ctx.arc(n.x, n.y, n.size * 4, 0, Math.PI * 2);
      ctx.fill();
      // Dot
      ctx.fillStyle = `rgba(62,137,163,${n.zone === 0 ? n.opacity * 1.3 : n.opacity})`;
      ctx.beginPath();
      ctx.arc(n.x, n.y, n.size, 0, Math.PI * 2);
      ctx.fill();
    });

    animId = requestAnimationFrame(draw);
  }

  resize();
  createNodes();
  requestAnimationFrame(draw);

  let resizeTimer;
  window.addEventListener('resize', () => {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(() => {
      cancelAnimationFrame(animId);
      resize(); createNodes();
      requestAnimationFrame(draw);
    }, 200);
  });
}
</script>
</body>
</html>
